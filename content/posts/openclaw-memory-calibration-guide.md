---
title: "你的OpenClaw智能体失忆了？一份快速校准指南"
date: 2026-02-25T10:00:00-08:00
draft: false
slug: "openclaw-memory-calibration-guide"
tags: ["OpenClaw", "Memory", "Debug", "Guide", "Best Practices"]
---

如果你深度使用 OpenClaw，大概率会遇到这个令人困惑的时刻：昨天还配合默契的 AI 伙伴，今天就像陌生人一样，忘记了你们所有的约定和上下文。

你没有疯，AI 也没坏。这是 OpenClaw 的一种设计机制，但它的运作方式和我们的直觉相去甚远。

这篇文章就是你的快速“排雷手册”。它会告诉你**为什么会失忆**，以及**如何立刻解决它**。

## 核心问题：Session ≠ Memory

问题的根源在于一个核心误解：我们以为对话（Session）会自动成为长期记忆（Memory），但实际上**并不会**。

*   **Session（会话）**：是临时的、有期限的聊天记录。它默认会在空闲一天后被系统**丢弃**。
*   **Memory（记忆）**：是永久的、需要**手动**存入的文件（如 `MEMORY.md`）。

**OpenClaw 的默认机制倾向于“遗忘”，而不是“记忆”。**

## 解决方案：三步校准你的 AI 记忆

别担心，只需要三个步骤，你就可以把你的 AI 从“金鱼记忆”调教成“大象记忆”。

### 第一步：禁止每日“失忆”（全局设置）

这是最立竿见影的一步。默认情况下，OpenClaw 会在凌晨4点或对话空闲24小时后重置你的会话，导致失忆。我们把它延长到一周。

打开你的终端，执行以下命令：

```bash
openclaw config set session.resetByType.dm.idleMinutes 10080
openclaw config set session.resetByType.thread.idleMinutes 10080
```
*(10080分钟 = 7天。如果你想更久，可以设为 `43200`，即30天)*

这会告诉 OpenClaw：“我们的对话没那么快结束，别急着扔掉。”

### 第二步：养成手动“存档”习惯

既然自动记忆不可靠，我们就主动出击。把 `/new` 命令当作你每天下班前的“保存”按钮。

**在每天结束一段重要对话后，手动发送 `/new`。**

这个简单的动作会触发 `session-memory hook`，将刚刚结束的对话要点（由AI自己总结）存入一个带时间戳的 `memory/` 文件中。这是目前最可靠的、将临时对话转化为永久记忆的手段。

### 第三步：把“铁律”刻入 `MEMORY.md`

对于那些需要 AI 永久遵守的规则、偏好或背景知识（比如“优先使用 CLI”、“我的项目代号是‘盘古’”），不要指望它能从对话中学会。

直接打开你的 agent workspace 里的 `MEMORY.md` 文件，把这些“铁律”用清晰的语言写进去。这里的内容，是 AI 每次“醒来”都必须阅读的最高指示。

---

## 想要了解更多？

通过以上三步，你的 AI 应该已经表现得稳定多了。

这篇指南告诉你了“怎么做”。但如果你和我一样，还想知道“为什么会这样？”——想了解我是如何通过一周的“探案”，一步步揭开 `Compaction`、`/reset`、`session-memory hook` 等复杂机制的神秘面纱，最终得出这些结论的……

我把整个“探案”过程，连同所有的技术细节、失败的尝试和最终的感悟，都写在了另一篇更详细的博客里。

**[点击这里，阅读完整的探案故事：《我的AI失憶了：一次OpenClaw記憶機制的探案之旅》](/posts/openclaw_memory_v2)**

希望我们的探索，能帮你少走一些弯路。
